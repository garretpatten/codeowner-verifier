(()=>{var e={417:e=>{"use strict";e.exports=balanced;function balanced(e,t,r){if(e instanceof RegExp)e=maybeMatch(e,r);if(t instanceof RegExp)t=maybeMatch(t,r);var n=range(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function maybeMatch(e,t){var r=t.match(e);return r?r[0]:null}balanced.range=range;function range(e,t,r){var n,s,i,a,o;var l=r.indexOf(e);var c=r.indexOf(t,l+1);var f=l;if(l>=0&&c>0){if(e===t){return[l,c]}n=[];i=r.length;while(f>=0&&!o){if(f==l){n.push(f);l=r.indexOf(e,f+1)}else if(n.length==1){o=[n.pop(),c]}else{s=n.pop();if(s<i){i=s;a=c}c=r.indexOf(t,f+1)}f=l<c&&l>=0?l:c}if(n.length){o=[i,a]}}return o}},717:(e,t,r)=>{var n=r(417);e.exports=expandTop;var s="\0SLASH"+Math.random()+"\0";var i="\0OPEN"+Math.random()+"\0";var a="\0CLOSE"+Math.random()+"\0";var o="\0COMMA"+Math.random()+"\0";var l="\0PERIOD"+Math.random()+"\0";function numeric(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function escapeBraces(e){return e.split("\\\\").join(s).split("\\{").join(i).split("\\}").join(a).split("\\,").join(o).split("\\.").join(l)}function unescapeBraces(e){return e.split(s).join("\\").split(i).join("{").split(a).join("}").split(o).join(",").split(l).join(".")}function parseCommaParts(e){if(!e)return[""];var t=[];var r=n("{","}",e);if(!r)return e.split(",");var s=r.pre;var i=r.body;var a=r.post;var o=s.split(",");o[o.length-1]+="{"+i+"}";var l=parseCommaParts(a);if(a.length){o[o.length-1]+=l.shift();o.push.apply(o,l)}t.push.apply(t,o);return t}function expandTop(e){if(!e)return[];if(e.substr(0,2)==="{}"){e="\\{\\}"+e.substr(2)}return expand(escapeBraces(e),true).map(unescapeBraces)}function embrace(e){return"{"+e+"}"}function isPadded(e){return/^-?0\d/.test(e)}function lte(e,t){return e<=t}function gte(e,t){return e>=t}function expand(e,t){var r=[];var s=n("{","}",e);if(!s)return[e];var i=s.pre;var o=s.post.length?expand(s.post,false):[""];if(/\$$/.test(s.pre)){for(var l=0;l<o.length;l++){var c=i+"{"+s.body+"}"+o[l];r.push(c)}}else{var f=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body);var u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body);var h=f||u;var p=s.body.indexOf(",")>=0;if(!h&&!p){if(s.post.match(/,.*\}/)){e=s.pre+"{"+s.body+a+s.post;return expand(e)}return[e]}var g;if(h){g=s.body.split(/\.\./)}else{g=parseCommaParts(s.body);if(g.length===1){g=expand(g[0],false).map(embrace);if(g.length===1){return o.map((function(e){return s.pre+g[0]+e}))}}}var d;if(h){var b=numeric(g[0]);var v=numeric(g[1]);var w=Math.max(g[0].length,g[1].length);var y=g.length==3?Math.abs(numeric(g[2])):1;var x=lte;var E=v<b;if(E){y*=-1;x=gte}var O=g.some(isPadded);d=[];for(var j=b;x(j,v);j+=y){var M;if(u){M=String.fromCharCode(j);if(M==="\\")M=""}else{M=String(j);if(O){var _=w-M.length;if(_>0){var k=new Array(_+1).join("0");if(j<0)M="-"+k+M.slice(1);else M=k+M}}}d.push(M)}}else{d=[];for(var C=0;C<g.length;C++){d.push.apply(d,expand(g[C],false))}}for(var C=0;C<d.length;C++){for(var l=0;l<o.length;l++){var c=i+d[C]+o[l];if(!t||h||c)r.push(c)}}}return r}},917:e=>{const t=typeof process==="object"&&process&&process.platform==="win32";e.exports=t?{sep:"\\"}:{sep:"/"}},973:(e,t,r)=>{const n=e.exports=(e,t,r={})=>{assertValidPattern(t);if(!r.nocomment&&t.charAt(0)==="#"){return false}return new Minimatch(t,r).match(e)};e.exports=n;const s=r(917);n.sep=s.sep;const i=Symbol("globstar **");n.GLOBSTAR=i;const a=r(717);const o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}};const l="[^/]";const c=l+"*?";const f="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";const u="(?:(?!(?:\\/|^)\\.).)*?";const charSet=e=>e.split("").reduce(((e,t)=>{e[t]=true;return e}),{});const h=charSet("().*{}+?[]^$\\!");const p=charSet("[.(");const g=/\/+/;n.filter=(e,t={})=>(r,s,i)=>n(r,e,t);const ext=(e,t={})=>{const r={};Object.keys(e).forEach((t=>r[t]=e[t]));Object.keys(t).forEach((e=>r[e]=t[e]));return r};n.defaults=e=>{if(!e||typeof e!=="object"||!Object.keys(e).length){return n}const t=n;const m=(r,n,s)=>t(r,n,ext(e,s));m.Minimatch=class Minimatch extends t.Minimatch{constructor(t,r){super(t,ext(e,r))}};m.Minimatch.defaults=r=>t.defaults(ext(e,r)).Minimatch;m.filter=(r,n)=>t.filter(r,ext(e,n));m.defaults=r=>t.defaults(ext(e,r));m.makeRe=(r,n)=>t.makeRe(r,ext(e,n));m.braceExpand=(r,n)=>t.braceExpand(r,ext(e,n));m.match=(r,n,s)=>t.match(r,n,ext(e,s));return m};n.braceExpand=(e,t)=>braceExpand(e,t);const braceExpand=(e,t={})=>{assertValidPattern(e);if(t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)){return[e]}return a(e)};const d=1024*64;const assertValidPattern=e=>{if(typeof e!=="string"){throw new TypeError("invalid pattern")}if(e.length>d){throw new TypeError("pattern is too long")}};const b=Symbol("subparse");n.makeRe=(e,t)=>new Minimatch(e,t||{}).makeRe();n.match=(e,t,r={})=>{const n=new Minimatch(t,r);e=e.filter((e=>n.match(e)));if(n.options.nonull&&!e.length){e.push(t)}return e};const globUnescape=e=>e.replace(/\\(.)/g,"$1");const regExpEscape=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Minimatch{constructor(e,t){assertValidPattern(e);if(!t)t={};this.options=t;this.set=[];this.pattern=e;this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===false;if(this.windowsPathsNoEscape){this.pattern=this.pattern.replace(/\\/g,"/")}this.regexp=null;this.negate=false;this.comment=false;this.empty=false;this.partial=!!t.partial;this.make()}debug(){}make(){const e=this.pattern;const t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=true;return}if(!e){this.empty=true;return}this.parseNegate();let r=this.globSet=this.braceExpand();if(t.debug)this.debug=(...e)=>console.error(...e);this.debug(this.pattern,r);r=this.globParts=r.map((e=>e.split(g)));this.debug(this.pattern,r);r=r.map(((e,t,r)=>e.map(this.parse,this)));this.debug(this.pattern,r);r=r.filter((e=>e.indexOf(false)===-1));this.debug(this.pattern,r);this.set=r}parseNegate(){if(this.options.nonegate)return;const e=this.pattern;let t=false;let r=0;for(let n=0;n<e.length&&e.charAt(n)==="!";n++){t=!t;r++}if(r)this.pattern=e.substr(r);this.negate=t}matchOne(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t});this.debug("matchOne",e.length,t.length);for(var s=0,a=0,o=e.length,l=t.length;s<o&&a<l;s++,a++){this.debug("matchOne loop");var c=t[a];var f=e[s];this.debug(t,c,f);if(c===false)return false;if(c===i){this.debug("GLOBSTAR",[t,c,f]);var u=s;var h=a+1;if(h===l){this.debug("** at the end");for(;s<o;s++){if(e[s]==="."||e[s]===".."||!n.dot&&e[s].charAt(0)===".")return false}return true}while(u<o){var p=e[u];this.debug("\nglobstar while",e,u,t,h,p);if(this.matchOne(e.slice(u),t.slice(h),r)){this.debug("globstar found match!",u,o,p);return true}else{if(p==="."||p===".."||!n.dot&&p.charAt(0)==="."){this.debug("dot detected!",e,u,t,h);break}this.debug("globstar swallow a segment, and continue");u++}}if(r){this.debug("\n>>> no match, partial?",e,u,t,h);if(u===o)return true}return false}var g;if(typeof c==="string"){g=f===c;this.debug("string match",c,f,g)}else{g=f.match(c);this.debug("pattern match",c,f,g)}if(!g)return false}if(s===o&&a===l){return true}else if(s===o){return r}else if(a===l){return s===o-1&&e[s]===""}throw new Error("wtf?")}braceExpand(){return braceExpand(this.pattern,this.options)}parse(e,t){assertValidPattern(e);const r=this.options;if(e==="**"){if(!r.noglobstar)return i;else e="*"}if(e==="")return"";let n="";let s=!!r.nocase;let a=false;const f=[];const u=[];let g;let d=false;let v=-1;let w=-1;let y;let x;let E;const O=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)";const clearStateChar=()=>{if(g){switch(g){case"*":n+=c;s=true;break;case"?":n+=l;s=true;break;default:n+="\\"+g;break}this.debug("clearStateChar %j %j",g,n);g=false}};for(let t=0,i;t<e.length&&(i=e.charAt(t));t++){this.debug("%s\t%s %s %j",e,t,n,i);if(a){if(i==="/"){return false}if(h[i]){n+="\\"}n+=i;a=false;continue}switch(i){case"/":{return false}case"\\":clearStateChar();a=true;continue;case"?":case"*":case"+":case"@":case"!":this.debug("%s\t%s %s %j <-- stateChar",e,t,n,i);if(d){this.debug("  in class");if(i==="!"&&t===w+1)i="^";n+=i;continue}this.debug("call clearStateChar %j",g);clearStateChar();g=i;if(r.noext)clearStateChar();continue;case"(":if(d){n+="(";continue}if(!g){n+="\\(";continue}f.push({type:g,start:t-1,reStart:n.length,open:o[g].open,close:o[g].close});n+=g==="!"?"(?:(?!(?:":"(?:";this.debug("plType %j %j",g,n);g=false;continue;case")":if(d||!f.length){n+="\\)";continue}clearStateChar();s=true;x=f.pop();n+=x.close;if(x.type==="!"){u.push(x)}x.reEnd=n.length;continue;case"|":if(d||!f.length){n+="\\|";continue}clearStateChar();n+="|";continue;case"[":clearStateChar();if(d){n+="\\"+i;continue}d=true;w=t;v=n.length;n+=i;continue;case"]":if(t===w+1||!d){n+="\\"+i;continue}y=e.substring(w+1,t);try{RegExp("["+y+"]")}catch(e){E=this.parse(y,b);n=n.substr(0,v)+"\\["+E[0]+"\\]";s=s||E[1];d=false;continue}s=true;d=false;n+=i;continue;default:clearStateChar();if(h[i]&&!(i==="^"&&d)){n+="\\"}n+=i;break}}if(d){y=e.substr(w+1);E=this.parse(y,b);n=n.substr(0,v)+"\\["+E[0];s=s||E[1]}for(x=f.pop();x;x=f.pop()){let e;e=n.slice(x.reStart+x.open.length);this.debug("setting tail",n,x);e=e.replace(/((?:\\{2}){0,64})(\\?)\|/g,((e,t,r)=>{if(!r){r="\\"}return t+t+r+"|"}));this.debug("tail=%j\n   %s",e,e,x,n);const t=x.type==="*"?c:x.type==="?"?l:"\\"+x.type;s=true;n=n.slice(0,x.reStart)+t+"\\("+e}clearStateChar();if(a){n+="\\\\"}const j=p[n.charAt(0)];for(let e=u.length-1;e>-1;e--){const r=u[e];const s=n.slice(0,r.reStart);const i=n.slice(r.reStart,r.reEnd-8);let a=n.slice(r.reEnd);const o=n.slice(r.reEnd-8,r.reEnd)+a;const l=s.split("(").length-1;let c=a;for(let e=0;e<l;e++){c=c.replace(/\)[+*?]?/,"")}a=c;const f=a===""&&t!==b?"$":"";n=s+i+a+f+o}if(n!==""&&s){n="(?=.)"+n}if(j){n=O+n}if(t===b){return[n,s]}if(!s){return globUnescape(e)}const M=r.nocase?"i":"";try{return Object.assign(new RegExp("^"+n+"$",M),{_glob:e,_src:n})}catch(e){return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===false)return this.regexp;const e=this.set;if(!e.length){this.regexp=false;return this.regexp}const t=this.options;const r=t.noglobstar?c:t.dot?f:u;const n=t.nocase?"i":"";let s=e.map((e=>{e=e.map((e=>typeof e==="string"?regExpEscape(e):e===i?i:e._src)).reduce(((e,t)=>{if(!(e[e.length-1]===i&&t===i)){e.push(t)}return e}),[]);e.forEach(((t,n)=>{if(t!==i||e[n-1]===i){return}if(n===0){if(e.length>1){e[n+1]="(?:\\/|"+r+"\\/)?"+e[n+1]}else{e[n]=r}}else if(n===e.length-1){e[n-1]+="(?:\\/|"+r+")?"}else{e[n-1]+="(?:\\/|\\/"+r+"\\/)"+e[n+1];e[n+1]=i}}));return e.filter((e=>e!==i)).join("/")})).join("|");s="^(?:"+s+")$";if(this.negate)s="^(?!"+s+").*$";try{this.regexp=new RegExp(s,n)}catch(e){this.regexp=false}return this.regexp}match(e,t=this.partial){this.debug("match",e,this.pattern);if(this.comment)return false;if(this.empty)return e==="";if(e==="/"&&t)return true;const r=this.options;if(s.sep!=="/"){e=e.split(s.sep).join("/")}e=e.split(g);this.debug(this.pattern,"split",e);const n=this.set;this.debug(this.pattern,"set",n);let i;for(let t=e.length-1;t>=0;t--){i=e[t];if(i)break}for(let s=0;s<n.length;s++){const a=n[s];let o=e;if(r.matchBase&&a.length===1){o=[i]}const l=this.matchOne(o,a,t);if(l){if(r.flipNegate)return true;return!this.negate}}if(r.flipNegate)return false;return this.negate}static defaults(e){return n.defaults(e).Minimatch}}n.Minimatch=Minimatch},147:e=>{"use strict";e.exports=require("fs")}};var t={};function __nccwpck_require__(r){var n=t[r];if(n!==undefined){return n.exports}var s=t[r]={exports:{}};var i=true;try{e[r](s,s.exports,__nccwpck_require__);i=false}finally{if(i)delete t[r]}return s.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var r={};(()=>{const e=__nccwpck_require__(147);const t=__nccwpck_require__(973);function buildCodeownersMap(e){let t;const r=new Map;for(let n of e){if(n.substring(0,1)!="#"&&n.length>1){t=n.split(" ");if(t.length>1){t[0]=cleanPath(t[0]);r.set(t[0],getCodeowners(t))}}}return r}function cleanPath(e){if(e=="*"||e=="/*"){return e}else if(e.substring(0,1)=="/"){e=e.substring(1)}return e}function getChangedFilesWithoutOwnership(e,t,r){const n=[...t.keys()];let s=[...e];for(let t of e){r.forEach((e=>{if(t.includes(e)){removeFromList(s,t)}}));n.forEach((e=>{if(e=="*"||e=="/"){s=[]}if(s.length>0){if(isMatch(t,e)){console.log("a match has been found for: "+t+" and "+e);console.log("");removeFromList(s,t)}}}))}return s}function getCodeowners(e){e.splice(0,1);for(let t=0;t<e.length;t++){if(e[t].substring(0,1)=="#"){e.splice(t)}}return[...e]}async function getTeams(e){const t=await new Octokit({auth:e}).request("GET /orgs/ncino/teams");console.log(t);for(let e of t.data){validTeams.push(e.name)}}function isFileExtensionMatch(e,t){if(t.substring(0,2)=="*."){if(e.includes(t.substring(1))){return true}}return false}function isFirstLevelDirectoryMatch(e,t){if(t.indexOf("/*")!==-1){if(t=="/*"){if(!e.includes("/")){return true}}else{let r=e.split("/");let n=r[r.length-2];return t.includes(n)}}return false}function isFullDirectoryMatch(e,t){if(t.substring(t.length-1)=="/"){return e.includes(t.substring(1))}return false}function isMatch(e,r){if(t(e,r)){return true}else if(isFileExtensionMatch(e,r)){return true}else if(isFullDirectoryMatch(e,r)){return true}else if(isFirstLevelDirectoryMatch(e,r)){return true}else{return false}}function removeFromList(e,t){let r=e.indexOf(t);if(e[r]==t){e.splice(e.indexOf(t),1)}}function validateCodeowners(){const e=null;const t=["# Universal Owner of all files","* @god","","# Owner of all files in the first level of the root directory","/* @ownerOfFirstLevelOfRootDirectory","","# Owner of all .yml files","*.yml @ymlOwner","","# Owner of all files in a directory","/node_modules/ @nodeModulesOwner","","# Owner of a specific directory path","/src/nSECURE/juice-shop/ @juiceShopOwner # Test Inline Comment","","# Owner of all files in the first level of a hidden directory",".github/* @githubOwner","","# Owner of all files in the first level of a directory","src/* @srcOwnerFirstLevel","","# Owner of a subdirectory anywhere","objects/ @objectsOwner","","# Valid syntax for unowned file","LICENSE"];const r=["src/action.js","src/objects/testObject.js","LICENSE","package.json",".github/workflows/ExampleWorkflow.yml","src/nSECURE/juice-shop/classes/JuiceShopController.cls","dist/index.js","src/dependencies/ignoreThisDependency"];const n=".git/ .sfdx/ .idea/ .vscode/ src/dependencies/";const s=n.split(" ");const i=["@garretpatten"];const a=buildCodeownersMap(t);console.log("codeownersMap");console.log(a);console.log("");const o=getChangedFilesWithoutOwnership(r,a,s);console.log("");console.log("Changed files without ownership in this commit:");console.log(o);if(i!=null){let e=[];let t;for(let r of a.keys()){t=a.get(r);t.forEach((t=>{if(!i.includes(t)){e.push(t)}}))}if(e.length>0){let t="There are invalid Teams in the CODEOWNERS file: ";e.forEach((e=>{t+=e+" "}));console.log(t)}}console.log((new Date).toTimeString())}validateCodeowners()})();module.exports=r})();